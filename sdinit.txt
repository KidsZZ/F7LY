我抄了一个别人的sd驱动，别人的可以正常通过，他们的输出我放在sdinit.txt中了，我们的在第一个responese的位置就和他们不同，这代表着什么，又是为什么不同呢？我对比了所有偏移量等函数的写法我都和他们一样，但是没搞懂为什么。



from avxOS,正确的驱动输出：
ctrl:0x0000000000000007
arrive a0
100arrive a
RINTSTS: 0x0000000000000000
responese: 0x0000000000000900
rintst: 0x0000000000000104
response: 0x0000000000000900
arrive b
RINTSTS: 0x0000000000000000
rintst: 0x0000000000000004
response: 0x0000000000000900
RINTSTS: 0x0000000000000000
rintst: 0x0000000000000004
response: 0x00000000000001aa
arrive c
rintst: 0x0000000000000004
rintst: 0x0000000000000004
rintst: 0x0000000000000004
rintst: 0x0000000000000004
rintst: 0x0000000000000004
rintst: 0x0000000000000004
response: 0xffffffffc0ff8000
arrive d
rintst: 0x0000000000000004
response3: 0x0000000003534453
response3: 0x000000004e313238
response3: 0xffffffff8696a60e
response3: 0x00000000390179e7
arrive e
rintst: 0x0000000000000004
response: 0xffffffffaaaa0520
arrive e
rca: 0xffffffffaaaa0000
rintst: 0x0000000000000004
response: 0x0000000000000700
rintst: 0x0000000000000004
response: 0x0000000000000900
FIFOTH: 0x00000000200f0010
FIFOTH: 0x0000000020070008
HCON: 0x0000000000c43cc1
Card interface enabled use AT commands!



我们的，目前有问题：
ctrl:0x0000000000000007
arrive a0
100arrive a 
RINTSTS: 0x0000000000001000   //按照定义，这个是 Hardware locked write error
responese: 0x0000000000000900
response: 0x0000000000000900
arrive b
RINTSTS: 0x0000000000000000
response: 0x0000000000000900
RINTSTS: 0x0000000000000000
response: 0x0000000000000187
arrive c
在这里就卡死了，response一直是187，没有回应改变了




ext4_sblock hexdump:
00 00 04 00 00 00 10 00 cc cc 00 00 3c 95 03 00 
33 e5 03 00 00 00 00 00 02 00 00 00 02 00 00 00 
00 80 00 00 00 80 00 00 00 20 00 00 59 8b 94 68 
55 bd 94 68 0a 00 ff ff 53 ef 02 00 01 00 00 00 
3d 91 4d 68 00 00 00 00 00 00 00 00 01 00 00 00 
00 00 00 00 0b 00 00 00 00 01 00 00 3c 00 00 00 
c2 02 00 00 6b 04 00 00 36 20 39 d9 08 39 44 c2 
a9 06 fb 38 bb 1e 9b 25 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 2f 6d 6e 74 2f 73 64 63 
61 72 64 2d 72 76 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 ff 01 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
08 00 00 00 00 00 00 00 00 00 00 00 c1 f9 59 0d 
ca 08 47 97 8c 10 0c 91 c0 b3 a9 55 01 01 40 00 
0c 00 00 00 00 00 00 00 3d 91 4d 68 0a f3 01 00 
04 00 00 00 00 00 00 00 00 00 00 00 00 40 00 00 
00 80 07 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 04 
00 00 00 00 00 00 00 00 00 00 00 00 20 00 20 00 
01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 04 01 00 00 e9 73 2f 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 48 90 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 67 96 6e 00 
